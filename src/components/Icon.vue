<template>
  <span class="icon" :style="{ width: sizeStyle, height: sizeStyle }" v-html="svgContent" aria-hidden="true"></span>
</template>

<script>
const icons = {
  'envelope-square': '<svg aria-hidden="true" focusable="false" viewBox="0 0 448 512"><path fill="currentColor" d="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM208 288L64 384V128l144 160zm48 32l80-64v160l-80-96zm144-96v256L272 256 400 224zM64 128l144 160 48-32 80 96V128H64z"/></svg>',
  'facebook-square': '<svg aria-hidden="true" focusable="false" viewBox="0 0 448 512"><path fill="currentColor" d="M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"/></svg>',
  'twitter-square': '<svg aria-hidden="true" focusable="false" viewBox="0 0 448 512"><path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2 5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8 15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5 29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.2 65.2 0 0 1-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.3 65.8 134.8 68.6-9.9-44.5 24-80.6 75-80.6 22 0 41.9 11.9 55.7 31.2 17.3-3.4 33.6-9.7 48.5-18.7-5.7 17.8-17.8 32.8-34.5 42.2 15.8-1.9 31-6 45.1-12.3-10.5 15.8-23.8 29.7-39.2 40.6z"/></svg>',
  'github-square': '<svg aria-hidden="true" focusable="false" viewBox="0 0 448 512"><path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-4-11.5-9 0-6.2.3-24.2.3-47.2 0-16.4-5.5-27.2-11.9-32.6 39-4.3 80-20.2 80-90.8 0-20-7.1-36.4-18.4-49.2 1.9-4.6 8-23.2-1.8-48.3 0 0-15-4.9-49.1 18.8-14.2-4-29.5-6-44.7-6-15.2 0-30.5 2-44.7 6-34.1-23.7-49.1-18.8-49.1-18.8-9.8 25.1-3.7 43.7-1.8 48.3-11.4 12.8-18.4 29.2-18.4 49.2 0 70.6 41 86.5 80 90.8-.5 3.9-1.1 7.8-1.5 11.8-10.2 4.5-34.4 12.8-49.1-14.8 0 0-9-17.3-26.4-18.4 0 0-16.8-.2-1.2 10.5 0 0 11.2 5 18.9 23.8 0 0 10.5 30.8 61 21.7c.3 16.9.3 33.3.3 47.2 0 5-.3 7.6-11.5 9-62.1 20.6-75.6-30.1-75.6-57.1 0-12.2 4.7-23.2 12.4-31.6-6.5-1.6-16.1-6.4-22.9-12.4.2-.2.4-.4.6-.6 30.4-27.7 73.5-23.5 73.5-23.5 17.2 2.3 26.4 17.2 26.4 17.2 9 31.3 23.4 23.3 43.2 17.7 2.3 13.6 3.7 26.8 3.7 40.4 0 57.2-30.1 57.2-57.1-.1-27-13.5-77.7-75.7-57.1z"/></svg>',
  'linkedin': '<svg aria-hidden="true" focusable="false" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>',
  'stack-overflow': '<svg aria-hidden="true" focusable="false" viewBox="0 0 448 512"><path fill="currentColor" d="M292.9 311.1h97.8v-20.3h-97.8v20.3zm-.2 62.6h98v-19.4h-98v19.4zm-1.4-125.2h99.4V227h-99.4v21.5zM170.2 469V309.8h21.5V469h-21.5zm-36.2-169.2l15.2 20.5 67.5-50.1-15.2-20.5-67.5 50.1zm-24.3 109l20.5 15.2 50.1-67.5-20.5-15.2-50.1 67.5zM73 301.8l20.5 15.2 50.1-67.5-20.5-15.2L73 301.8zM22.1 234.3l15.2 20.5 67.5-50.1-15.2-20.5-67.5 50.1zm129.2-107.8H30V106h121.3v20.5zm0 62.6H30v-20.5h121.3v20.5zm0 62.7H30v-20.5h121.3V252zM259.2 469v-20.5h121.3V469H259.2zm0-62.6v-20.5h121.3v20.5H259.2zm0-62.6v-20.5h121.3v20.5H259.2zM400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm0 432H48V80h352v384z"/></svg>'
};

export default {
  name: 'Icon',
  props: {
    icon: { type: [String, Array], default: '' },
    name: { type: String, default: '' },
    size: { type: [String, Number], default: '1em' }
  },
  computed: {
    iconName() {
      if (this.name) return this.name;
      if (Array.isArray(this.icon)) return this.icon[this.icon.length - 1] || '';
      return this.icon || '';
    },
    svgContent() {
      return icons[this.iconName] || '';
    },
    sizeStyle() {
      const s = this.size;
      if (typeof s === 'number') return s + 'px';
      if (String(s).endsWith('x')) {
        const mult = parseFloat(s) || 1;
        return (mult * 1) + 'em';
      }
      return s;
    }
  }
};
</script>

<style scoped>
.icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  vertical-align: middle;
}
.icon >>> svg {
  width: 100%;
  height: 100%;
}
</style>
